<h1>{{title}}</h1>

<menu>
    <div class="toolbar">
        <a class="btn" href="/task">Create new Node</a>
        <!--//sort-->

        <!--//TODO: if config.order="bla", dann link zu &reverse=false
        müsste geringer aufwand sein hinkriegen-->
        <a href="./?order=date" class="btn">By due date</a>
        <a href="./?order=createdAt" class="btn">By created date</a>
        <a href="./?order=prio" class="btn">By priority</a>

        <!--Filter-->
        {{#if config.filter}}  <!--//TODO-->
            <a href="./?filter=none" class="btn">Alle anzeigen</a>
        {{else}}
            <a href="./?filter=done" class="btn">Fertige verbergen</a>
        {{/if}}

        {{#if config.darkmode}}
            <a class="btn" href="/?darkmode=false">Style Switcher (lightmode)</a>
        {{else}}
            <a class="btn" href="/?darkmode=true">Style Switcher (darkmode)</a>
        {{/if}}
    </div>

</menu>
<div id="list">
    <!-- for each call other template  task_list  -->
    {{#each tasks}}
    <div class="task-entry">
        <div>
            <p>Task ID:{{_id}}</p>
            <p>Task Title: {{title}}</p>
            <p>Due to:{{date}}</p>
            <p>Prio:{{prio}}</p>

            <!--Falls zuviel Zeit könnte man so ein Times iwas basteln, dass z.b. 3 sterne macht bei prio 3  (hbs removed):
            /*<p>Priority: times prio<span class="priosymbol">*</span>/times</p>-->
            <!--Handlebars.registerHelper('times', function(n, block) {-->
            <!--var accum = '';-->
            <!--for(var i = 0; i < n; ++i)-->
            <!--accum += block.fn(i);-->
            <!--return accum;-->
            <!--});-->
            <!--*/-->
        </div>
        <div>
            <p><label><input type="checkbox" name="done" {{#if done}}checked{{/if}} disabled> Finished</label></p>

            <textarea readonly>{{desc}}</textarea>
        </div>

        <form method="get" action="/task/{{_id}}">
            <button type='submit'class="btn">View / Edit</button>
        </form>
        <form action='/task/{{_id}}' method='post'>
            <input type='hidden' name='_method'  value='delete'>
            <button type='submit'class="btn">Delete</button>
        </form>
        <hr>
    </div>
    {{/each}}
</div>